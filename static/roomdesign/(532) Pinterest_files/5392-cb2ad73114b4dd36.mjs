(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5392,12749],{693099:(e,n,t)=>{t.d(n,{AA:()=>r,E9:()=>g,EU:()=>w,IO:()=>p,KH:()=>l,QR:()=>_,Uw:()=>i,ZR:()=>h,dy:()=>c,eA:()=>u,k7:()=>a,rT:()=>m,tz:()=>d,u9:()=>f,zR:()=>s,zu:()=>o});const o="OPEN_UNAUTH",i="openUnauthType",r="_isAfterLogin",a="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",c="_lastVisitedBoardPages",_="_lastVisitedPagesBeforeNavPage",l="_lastVisitedSessionPages",d="_unauthVisitedPages",u=20,g="unauthTopicsFollowed",m=["US","CA","NZ","AU"],p=new Set(["GB","IE"]),w=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),h=new Set(["BR","MX","AR","CL","CO","PE"]),f="ad_img"},81759:(e,n,t)=>{t.d(n,{CC:()=>h,Ff:()=>N,H$:()=>E,Mt:()=>w,Yi:()=>O,Yy:()=>A,Z4:()=>p,dc:()=>v,dp:()=>f,i$:()=>g,p9:()=>k,t_:()=>u,vV:()=>m});var o=t(231486),i=t(6637),r=t(826067),a=t(400660),s=t(226198),c=t(867820),_=t(622096),l=t(957161),d=t(693099);const u=()=>(0,l.qn)(d.tz,""),g=()=>{const e=u();let n;try{n=JSON.parse(e)}catch(t){n=[]}return n},m=()=>(0,l.L_)(d.tz),p=(e,n)=>{const t=g(),o=t.length,i=o?t[0].path:"";if(o<d.eA&&(!o||e!==i)){const o={path:e,pageType:n,ts:Date.now()};(0,l.Nh)(d.tz,JSON.stringify([o].concat(t)))}},w=(e,n,t,o,i,r,a=d.k7)=>{const s=(0,l.qn)(a)?JSON.parse((0,l.qn)(a)):[];if(!s[0]||s[0].path!==e){const c=[{path:e,ts:Date.now(),pin_id:t||0,first_pin_image_signature:n||"",first_pin_id:t||"",image_info:o||"",pin_description:i||"",is_shared:!!r,pin_invite_code:r}];(0,l.Nh)(a,JSON.stringify(c.concat(s)))}},h=({path:e,image:n,dominant_color:t,pin_description:o,pin_id:i})=>{const r=(()=>{const e=(0,_.qn)(d.KH);if(!e)return[];let n;try{n=JSON.parse(e)}catch(t){n=[]}return n})();if(!r[0]||r[0].path!==e){const a=[{path:e,image:n,pin_description:o||"",dominant_color:t||"",pin_id:i||""}];(0,_.Nh)(d.KH,JSON.stringify(a.concat(r)))}};function f(e,n,t,o,i,r){w(e,n,t,o,i,r,d.zR)}const E=(e,n)=>{var t,o;w(e,n.image_signature,n.id,null===(t=n.images)||void 0===t?void 0:t["236x"],null!==(o=n.description)&&void 0!==o?o:"","",d.dy)};function k(e,n,t,o,i){w(e,n,t,o,i,"",d.QR)}function v(){return g().filter((e=>"closeup"===e.pageType)).length}function O(){const e=i.ZP.create("UnauthUserDataResource");return new Promise(((n,t)=>{e.callGet().then((e=>{const i=e.resource_response.data,r=!!o.U2(s.x3);return i?((0,a.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,c.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),n(i)):((0,c.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),t({}))})).catch((e=>{if(e&&e.message){const n=e.message.replace(/\s/g,"_").toLowerCase();(0,c.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${n}`)}else(0,c.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return t(e)}))}))}function R({i18n:e,location:n}){const t=n.pathname.startsWith("/signup"),o=n.pathname.startsWith("/login");if(!t&&!o)return{showPLPBanner:!1,pinForBanner:null};let i;try{i=JSON.parse((0,_.qn)(d.KH))}catch(r){i=[]}if(i&&i.length>0){const n=i[0];if(n)return n.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(n.image),pinForBanner:n}}return{showPLPBanner:!1,pinForBanner:null}}const A=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function y({i18n:e,location:n}){var t;const o=(null===(t=n.state)||void 0===t?void 0:t.next)||A(n);if(o){const n=o.indexOf("?"),t=(0,r.mB)(o.substring(n));if(t.url&&t.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,r.Jx)(t.media),height:1,width:1},pinDescription:t.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function N({i18n:e,location:n}){return y({i18n:e,location:n}).showPLPBanner?y({i18n:e,location:n}):R({i18n:e,location:n}).showPLPBanner?R({i18n:e,location:n}):{showPLPBanner:!1,pinForBanner:null}}},400660:(e,n,t)=>{function o(e){return Boolean(null==e?void 0:e.is_matured_new_user)}t.d(n,{IR:()=>a,V0:()=>o,Wn:()=>r,xT:()=>i});const i=e=>!!e&&2===e.login_state,r=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},743413:(e,n,t)=>{t.d(n,{BG:()=>T,Bf:()=>R,J3:()=>v,Nv:()=>p,Ph:()=>g,Un:()=>m,Y7:()=>k,ay:()=>w,bJ:()=>h,gC:()=>f,lv:()=>I,me:()=>E,pK:()=>O});var o=t(172071),i=t(966113),r=t(330102),a=t(957161);const{ADMO_TV_WEB_PIXEL_URL:s,ADMO_TV_WEB_REZ_LOGIN_URL:c,ADMO_TV_LOGIN_EVENT_PIXEL_URL:_,ADMO_TV_REGISTRATION_EVENT_PIXEL_URL:l,ADMO_TV_DEFAULT_LOGGED_IN_USERS_PIXEL_URL:d,ADMO_TV_BILLING_ACCOUNT_CONVERSION_EVENT_PIXEL_URL:u}=i.Z.settings,g="admo-tv-d-ses",m="admo-tv-m-ses",p="admo-tv-d-rez-login",w="admo-tv-m-rez-login",h="admo-tv-d-login",f="admo-tv-m-login",E="admo-tv-def-login",k="admo-tv-d-reg",v="admo-tv-m-reg",O="admo-tv-d-billing",R="admo-tv-m-billing",A={"admo-tv-d-ses":s,"admo-tv-m-ses":s,"admo-tv-d-rez-login":c,"admo-tv-m-rez-login":c,"admo-tv-d-login":_,"admo-tv-m-login":_,"admo-tv-d-reg":l,"admo-tv-m-reg":l,"admo-tv-d-billing":u,"admo-tv-m-billing":u,"admo-tv-def-login":d};function y(e,n){o.Z.increment("admo_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==n&&o.Z.increment("admo_tracking_pixel",1,{event_category:e,event_name:n})}function N(){for(const n of Object.keys(A)){let t=(0,a.qn)(n);if(t){const o=(0,r.zj)({src:A[n],id:n,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});if(!document.getElementById(n)){var e;null===(e=document.body)||void 0===e||e.appendChild(o),t=t.split("#");const[i,r]=t;y(i,r),(0,a.L_)(n)}}}}function I(e,n){function t(e,n){const t=(0,r.zj)({src:A[e],id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});var o;document.getElementById(e)||(null===(o=document.body)||void 0===o||o.appendChild(t),n(),N())}document.getElementById(e)?N():("complete"===document.readyState&&t(e,n),window.addEventListener("load",function e(n,o){return i=>{t(n,o),window.removeEventListener(i,e)}}(e,n)))}function P(e,n,t){A[e]&&(0,a.Nh)(e,`${n}#${t}`)}function L(e,n,t){return o=>{P(e,n,t),window.removeEventListener(o,L)}}function T(e,n,t){"complete"===document.readyState?P(e,n,t):window.addEventListener("load",L(e,n,t))}},332730:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(56641),i=t(954931),r=t(867820);const a=e=>{(0,i.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,o.Z)(e,!1)}},995146:(e,n,t)=>{t.r(n),t.d(n,{exchangeTokenAndSetSession:()=>l,loginUser:()=>g,registerUser:()=>u,verifyLoggedInStatus:()=>d});var o=t(643913),i=t(6637),r=t(966113),a=t(584595),s=t(867820);const c=r.Z.settings.ACCOUNTS_PINTEREST_URL,_=(e,n,t,o)=>{const i=e=>{const n=new Error(e.statusText);throw n.response=e,!n.api_error_code&&n.response&&(n.api_error_code=n.response.code,n.message=n.response.message),n},r={credentials:"include",mode:"cors"};return"POST"===t&&(r.method="POST",r.body=n,r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o},o||(0,s.My)(`unauth.auth_handshake.cross_domain.no_unauth_id.${t}`)),fetch(e,r).then((e=>200===e.status||401===e.status||409===e.status?e:(i(e),{}))).then((e=>e.json())).then((e=>"success"===e.status?Promise.resolve(e):e.code===a.Zn?(e.api_error_code=e.code,Promise.reject(e)):(i(e),{}))).catch((e=>{throw e}))},l=(e,n=!1)=>i.ZP.create("HandshakeSessionResource",{token:e,isRegistration:n}).callCreate(),d=e=>{_(`${c}/v3/handshake/verify/`,"","GET",e).then((e=>{if(e&&e.data){const n=e.data;l(n).then((e=>{window.location.reload()}),(e=>{}))}}),(e=>{}))},u=(e,{facebookToken:n,inviteCode:t,locale:i,referrer:a,unauthId:s})=>{const c=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",l={};if(l.email=e.email||"",l.username=e.username||"",l.password=e.password||"",l.first_name=e.first_name||"",l.last_name=e.last_name||"",l.country=e.country||"",l.locale=i,l.referrer=a,e.age){const n=new Date;n.setFullYear(n.getFullYear()-e.age);const t=parseInt(n/1e3,10);l.birthday=t.toString()}if(e.custom_gender&&(l.custom_gender=e.custom_gender),e.gender&&(l.gender=e.gender),e.business_name&&(l.account_type=e.account_type,l.business_name=e.business_name,l.first_name=e.business_name),t&&(l.invite_code=t),e.facebook_id){const t=n||e.facebook_token||"";l.facebook_id=e.facebook_id,l.facebook_token=t,l.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(l.password=e.password||"",l.one_time_code=e.gplus_code,l.id_token=e.gplus_id_token,l.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(l.recaptcha_v3_token=e.recaptchaV3Token),_(`${r.Z.settings.ACCOUNTS_PINTEREST_URL}/v3/register/${c}/`,(0,o.Z)(l),"POST",s)},g=(e,{facebookToken:n,recaptchaV3Token:t,referrer:i,unauthId:a})=>{const s=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",c={};if(e.username_or_email&&(c.username_or_email=e.username_or_email.trim(),c.password=e.password,c.referrer=i),e.facebook_id){const t=n||e.facebook_token||"";c.facebook_id=e.facebook_id,c.facebook_token=t,c.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(c.gplus_id_token=e.gplus_id_token,c.gplus_access_token=e.gplus_access_token,c.gplus_expires_at=e.gplus_expires_at,c.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(c.mfa_token=e.mfa_token),t&&(c.token=t),_(`${r.Z.settings.ACCOUNTS_PINTEREST_URL}/v3/login/${s}/`,(0,o.Z)(c),"POST",a)}},376432:(e,n,t)=>{t.d(n,{Z:()=>o});const o=e=>{const n=e.api_error_code||e.apiErrorCode;return n?{...e,api_error_code:n,apiErrorCode:n}:e}},589486:(e,n,t)=>{t.d(n,{Z:()=>A});var o=t(231486),i=t(376432),r=t(6637),a=t(966113),s=t(743413),c=t(584595),_=t(290148),l=t(81759),d=t(817656),u=t(532975),g=t(487116),m=t(330102),p=t(297507),w=t(3223),h=t(995146),f=t(867820),E=t(226198);const k=function(e,n,t="",o="",i="",r=""){let a="referrer_unknown";try{const e=document.referrer;a=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(h){}const c=(0,_.eD)(e),l=n===Object(n)?n.container:"container_unknown";(0,f.My)("login.referrer."+a+"."+c),(0,f.My)("login.container."+l+"."+c),(0,f.My)("login.type."+c);const d=(0,_.eD)(e)||"method_unknown",u=n.page||"page_unknown";e.gplus_autologin?((0,f.My)("web_autologin_google"),(0,f.hL)("new_web_autologin_google",{page:u,referrer:a,container:l})):e.facebook_autologin?((0,f.My)("web_autologin_facebook"),(0,f.hL)("new_web_autologin_facebook",{page:u,referrer:a,container:l})):((0,f.My)(`web_login.${d}.success.${u}.${l}.${a}.tier1`),(0,f.hL)(`new_web_login.${d}.success`,{page:u,referrer:a,container:l})),(0,w.c_)({country:t,countryFromHostName:o,countryFromIp:i})&&(0,p.yP)({id:s.bJ,eventCategory:"Logins",eventName:"Desktop"}),(0,w.$r)({country:t,countryFromHostName:o,countryFromIp:i,regionFromIp:r})&&(0,p.jw)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),(0,w.NR)(t,r)&&(0,p.EN)({pixelId:m.Rj,eventCategory:"Logins",eventName:"Desktop"}),(0,w.Fc)({country:t,countryFromHostName:o,countryFromIp:i})&&(0,p.Be)({pixelId:m.HO,eventCategory:"Logins",eventName:"Desktop"});const g=e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login";(0,f.De)({action:g,event:"success",type:c})},v=(e,n)=>{(0,f.My)(`web_cross_domain_login.${e}.${(0,_.eD)(n)}`)},O=(e,n,t="other",o=!1)=>{if(e){const i=e.http_status===d.Ej?d.Ej:e.api_error_code;let r=i;c.qF.has(i)&&(r=c.qF.get(i));const{container:a}=n;o?(0,f.My)(`unauth_web_client_cctld_login_api_error.${String(r)}.${a||"unknow_container"}.${t}`):(0,f.My)(`unauth_web_client_login_api_error.${String(r)}.${a||"unknow_container"}.${t}`),(0,f.De)({action:"login",event:"fail",type:t})}},R=function(e,n,t){"autologin"===(e.facebook_autologin||e.gplus_autologin||e.autologin?"autologin":"login")&&(0,f.dy)({event:n,provider:t})},A=function({creds:e,loginContext:n,loggingData:t={},isAccountSwitch:s=!1,recaptchaV2Token:c,recaptchaV3Token:d}){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){const o=a.Z.settings.CORS_HANDSHAKE_DOMAINS;if(n&&-1!==o.indexOf(n.origin))return function({creds:e,recaptchaV3Token:n,loggingData:t,loginContext:o}){v("attempt",e);const{referrer:r,facebookToken:a,unauthId:s}=o;return(0,h.loginUser)(e,{recaptchaV3Token:n,referrer:r,facebookToken:a,unauthId:s}).then((n=>{if(n&&n.data){v("success_with_token",e);const o=n.data;return(0,h.exchangeTokenAndSetSession)(o).then((n=>(v("success_token_exchanged",e),k(e,t),Promise.resolve())),(n=>{throw v("success_token_not_exchanged",e),n}))}throw v("success_without_token",e),new Error}),(n=>{throw n=(0,i.Z)(n),v("failure",e),O(n,t,(0,_.eD)(e),!0),n}))}({creds:e,recaptchaV3Token:d,loggingData:t,loginContext:n})}const m=e.google_open_id_token?"google":"facebook";R(e,"login_api_call_start",m);const p=(0,l.t_)(),w={...e,get_user:e.get_user||e.switch_account&&s,app_type_from_client:7===n.appType?7:5,visited_pages_before_login:p||null,recaptchaV2Token:c,recaptchaV3Token:d};return r.ZP.create("UserSessionResource",w).callCreate({showError:!1,async:!0}).then((n=>{const{client_context:i}=n||{},{country:r,country_from_hostname:a,country_from_ip:s,region_from_ip:c}=i||{};return k(e,t,r,a,s,c),R(e,"login_api_call_success",m),(0,u.B)(!1),o.zN(E.e7.name),o.zN(E.x3.name),(0,g.D)("login").then((()=>n))}),(n=>(n=(0,i.Z)(n),O(n,t,(0,_.eD)(e)),R(e,"login_api_call_failure",m),Promise.reject(n))))}},532975:(e,n,t)=>{t.d(n,{B:()=>r,a:()=>i});var o=t(704177);const i=()=>o.ZP.localStorage.getItem("uoiou")||!1,r=e=>{o.ZP.localStorage.setItem("uoiou",!!e)}},180630:(e,n,t)=>{t.d(n,{W:()=>s,Z:()=>a});var o=t(330102);function i(e,n,t=3){if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),n();else if(t>0){const o=Math.floor(3e3/t);setTimeout((()=>{i(e,n,t-1)}),o)}}function r(e,n){return t=>{i(e,n),window.removeEventListener(t,r)}}function a(e,n){"complete"===document.readyState?i(e,n):window.addEventListener("load",r(e,n))}function s(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){const e=(0,o.zj)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",(()=>window._sendFacebookPixel=e.contentWindow.fbq))}(),window.addEventListener("load",s))}},283943:(e,n,t)=>{t.d(n,{aU:()=>s,hq:()=>a,o_:()=>i});var o=t(425288);const{Provider:i,useHook:r}=(0,o.Z)("AuthenticationContext");function a(){return r().loginContext}function s(){return r().logout}},584595:(e,n,t)=>{t.d(n,{$j:()=>T,Cx:()=>Z,D4:()=>I,E6:()=>A,H9:()=>C,Jt:()=>D,Jw:()=>r,NF:()=>s,OW:()=>_,Pv:()=>S,RL:()=>k,ZP:()=>x,Zn:()=>O,_K:()=>g,aG:()=>u,an:()=>y,at:()=>b,bd:()=>c,cZ:()=>l,dO:()=>d,hU:()=>p,iK:()=>f,iZ:()=>L,lg:()=>m,nY:()=>h,nf:()=>E,oP:()=>w,pH:()=>o,qF:()=>V,rM:()=>P,rm:()=>N,tL:()=>a,tz:()=>i,xN:()=>R,yV:()=>v});const o=101,i=93,r=117,a=116,s=111,c=9,_=8,l=16,d=12,u=3,g=18,m=105,p=79,w=78,h=77,f=76,E=1402,k=85,v=88,O=1201,R=30,A=84,y=83,N=2901,I=2904,P=2905,L=95,T=19,S=113,b=91,D=2501,C=3050,Z=[_,c],V=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[m,"FACEBOOK_ACCOUNT_NOT_LINKED"],[d,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[l,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[h,"INVALID_PASSWORD_FB_USER"],[w,"INVALID_PASSWORD_ERROR_CODE"],[p,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[y,"LOGIN_POLICY_VIOLATION_USER"],[k,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[i,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[a,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[_,"API_LIMIT_EXCEEDED_ERROR"],[c,"API_EVENT_BLOCKED_ERROR"],[T,"USER_IN_SAFE_MODE"],[A,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[k,"LOGIN_BAD_PASSWORD_ASK_RESET"],[O,"LOGIN_MFA_REQUIRED"],[R,"LOGIN_USER_NOT_FOUND"],[v,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[N,"SAR_DOWNLOAD_LIMIT"],[I,"SAR_EMAIL_UNVERIFIED"],[P,"SAR_EMAIL_MISSING"]]),x=[_,c,T,y,k,v]},290148:(e,n,t)=>{t.d(n,{Ny:()=>g,ZP:()=>p,eD:()=>h,lp:()=>w});var o=t(231486),i=t(794230),r=t(704115),a=t(332730),s=t(6637),c=t(704177),_=t(966113),l=t(226198),d=t(45169),u=t(867820);const g=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class m{static defaultLoginRedirectUrl(){return window.location.pathname===_.Z.settings.PASSWORD_RESET_URL||window.location.pathname===_.Z.settings.LOGIN_URL||window.location.pathname.startsWith(_.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(_.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=c.ZP.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){const n=e.split("|");return 3===n.length&&(new Date).getTime()/1e3-parseInt(n[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=c.ZP.localStorage.getItem("urh");let n=[];e&&(n=e.split("|"),3===n.length&&n.shift());const t=((new Date).getTime()/1e3).toString();n.push(t);const o=n.join("|");c.ZP.localStorage.setItem("urh",o)}static isFullyLoggedIn(e,n){return e&&1===n}static handleRedirect(e){if(!e){e="/";const n=(0,r.Z)();if(n){const t=n.next;t&&(e=t,delete n.next),e=(0,i.Z)(e,n)}}(0,a.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,n){c.ZP.localStorage.setItem("signupTime",Date.now()),!n&&e&&"/"!==e?m.handleRedirect(e):m.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){if(navigator.credentials&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});navigator.credentials.store(n).then((()=>{(0,u.My)("navigatorCredentials.store.success")}))}catch(n){(0,u.My)("navigatorCredentials.store.error")}}static retrieveLoginCredentialsFromBrowser(){const e=window.navigator.credentials;if(!e)return new Promise(((e,n)=>{n()}));return e.get({password:!0,mediation:"silent"})}static attemptLoginWithBrowserCredentials(e,n,t){if(!e)return new Promise(((e,n)=>{n("No credentials")}));let o,i;e.password?(i="include",o=new FormData,o.append("username",e.id),o.append("password",e.password)):i=e;return fetch("/resource/UserSessionResource/create/",{method:"POST",body:o,credentials:i,headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":n||"","X-Pinterest-AppState":t,"X-Requested-With":"XMLHttpRequest"}}).then((e=>{if(200!==e.status){const n=new Error(e.statusText);throw n.response=e,n}return(0,u.My)("navigatorCredentials.login.success"),e.json()})).catch((e=>((0,u.My)("navigatorCredentials.login.failure"),Promise.reject(e))))}static fetchRecentlyLoggedOutUser(e){if(e)return Promise.reject();const n=s.ZP.create("UnauthUserDataResource");return new Promise(((e,t)=>{n.callGet().then((n=>{const i=n.resource_response.data,r=!!o.U2(l.x3);return i?(i.connected_to_facebook||i.connected_to_google||i.has_password||(0,u.My)("unauth.personalized_login.no_login_methods_found"),(0,u.My)("unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),e(i)):((0,u.My)("unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),t({}))})).catch((e=>{if(e.message){const n=e.message.replace(/\s/g,"_").toLowerCase();(0,u.My)(`unauth.personalized_login.fetch_user_info.error.${n}`)}else(0,u.My)("unauth.personalized_login.fetch_user_info.error.unknown");return t(e)}))}))}static handleLoginMfa(e,n,t){(0,u.My)("multi_step_login"),m.storeLoginCredentialsToBrowser(e),t?t(e,n):(0,u.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const p=m;function w(e){return e.facebook_id?d.sr.FACEBOOK:e.google_open_id_token?d.sr.GOOGLE_ONE_TAP:e.gplus_id_token?d.sr.GOOGLE:e.line_id_token?d.sr.LINE:e.username_or_email?d.sr.EMAIL:d.sr.OTHER}function h(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":w(e)}},45169:(e,n,t)=>{t.d(n,{E_:()=>_,NN:()=>s,du:()=>c,sR:()=>a,sr:()=>r});var o=t(966113),i=t(693099);const r={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",LINE:"line",EMAIL:"email",OTHER:"other"},a=e=>e.facebook_id?r.FACEBOOK:e.google_open_id_token?r.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?r.GOOGLE:e.line_id_token?r.LINE:e.email?r.EMAIL:r.OTHER,s=(e="")=>e in o.Z.settings.MINIMUM_AGE_BY_EU_COUNTRY,c=e=>i.rT.includes(e)||i.ZR.has(e)||s(e),_={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk"}},817656:(e,n,t)=>{t.d(n,{AB:()=>o,Ej:()=>i,Sf:()=>r});const o=412,i=429,r=500},487116:(e,n,t)=>{t.d(n,{D:()=>a,N:()=>r});var o=t(172071);const i=.1;async function r(){const e=navigator.serviceWorker;if(o.Z.increment("web_service_worker.update",i),e&&e.getRegistration){const t=await e.getRegistration();if(!t)return o.Z.increment("web_service_worker.update.registration.not_exist",i),await async function(){const e=navigator.serviceWorker;if(o.Z.increment("web_service_worker.install",i),e&&e.register)try{const n=await e.register("/sw.js");return o.Z.increment("web_service_worker.install.success",i),n}catch(n){throw o.Z.increment("web_service_worker.install.error",i),n}}();o.Z.increment("web_service_worker.update.registration.exist",i);try{return await t.update(),o.Z.increment("web_service_worker.update.success",i),t}catch(n){throw o.Z.increment("web_service_worker.update.fail",i),n}}}async function a(e){const n=navigator.serviceWorker;if(o.Z.increment("web_service_worker.unregister",i,{source:e||"unknown"}),n&&n.getRegistration)try{const t=await n.getRegistration();t?(o.Z.increment("web_service_worker.unregister.registration.exist",i,{source:e||"unknown"}),await t.unregister(),o.Z.increment("web_service_worker.unregister.success",i,{source:e||"unknown"}),async function(e){const n=navigator.serviceWorker;if(o.Z.increment("web_service_worker.clear_app_shell",i,{source:e||"unknown"}),n&&window.caches){const n=(await window.caches.keys()).find((e=>e.startsWith("workbox-precaching")));n?(o.Z.increment("web_service_worker.clear_app_shell.precache.exist",i,{source:e||"unknown"}),(await window.caches.open(n)).delete("/sw-shell.html"),o.Z.increment("web_service_worker.clear_app_shell.delete",i,{source:e||"unknown"})):o.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",i,{source:e})}}(e)):o.Z.increment("web_service_worker.unregister.registration.not_exist",i,{source:e||"unknown"})}catch(t){o.Z.increment("web_service_worker.unregister.fail",i,{source:e||"unknown"})}}},297507:(e,n,t)=>{t.d(n,{X:()=>v,fh:()=>u,Xn:()=>h,Um:()=>l,Kv:()=>p,jO:()=>d,yP:()=>O,EN:()=>m,Be:()=>E,KT:()=>k,jw:()=>w,kQ:()=>g,o4:()=>f});var o=t(172071),i=t(957161);var r=t(549872),a=t(38),s=t(887432),c=t(743413),_=t(180630);function l(){(0,_.W)(),(0,_.Z)("PageView",(()=>{o.Z.increment("fb_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"})})),(0,_.Z)("ViewContent",(()=>{o.Z.increment("fb_tracking_pixel",1,{event_category:"ViewContent",event_name:"AuthViews"})}))}function d(){!function(){function e(){const e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158";const n="gtag-id-1";function t(){dataLayer.push(arguments)}e.id=n,e.async=!0,document.getElementById(n)||document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],t("js",new Date),t("config","AW-819016158"),t("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&e(),window.addEventListener("load",e)}()}function u(e){if(e){const n=e.unauthId,t=e.userId;n&&t&&((0,i.qn)("dpm_pixel_login_event")?(0,s.FB)(n,t,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})})):(0,s.FB)(n,t,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})})))}}function g(e){if(e){const n=e.unauthId;n&&(0,s.e7)(n,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})}))}}function m(e){if(e){const n=e.pixelId,t=e.userId?e.userId:"",i=e.eventCategory,r=e.eventName;n&&i&&r&&(0,s.l8)(n,t,i,r,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:i,event_name:"All"}),"All"!==r&&o.Z.increment("dpm_tracking_pixel",1,{event_category:i,event_name:r})}))}}function p(e){if(e){const n=e.id,t=e.eventName;n&&t&&(0,a.VC)(n,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:t})}))}}function w(e){if(e){const n=e.id,t=e.eventCategory,i=e.eventName;n&&t&&i&&(0,a.Rs)(n,t,i,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:t,event_name:"All"}),"All"!==i&&o.Z.increment("flashtalking_tracking_pixel",1,{event_category:t,event_name:i})}))}}function h(e){if(e){const n=e.unauthId,t=e.userId;n&&t&&(0,r.IV)(n,t,(()=>{o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})}))}}function f(e){if(e){const n=e.unauthId;n&&(0,r.Ob)(n,(()=>{o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"})}))}}function E(e){if(e){const n=e.pixelId,t=e.eventCategory,o=e.eventName;n&&t&&o&&(0,r.sX)(n,t,o)}}function k(){(0,r.Ii)((()=>{o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageViews (Facebook)",event_name:"AllViews"})}))}function v(e){if(e){const n=e.id,t=e.eventName,i=e.eventCategory?e.eventCategory:"PageView";n&&t&&(0,c.lv)(n,(()=>{o.Z.increment("admo_tracking_pixel",1,{event_category:i,event_name:"AllViews"}),o.Z.increment("admo_tracking_pixel",1,{event_category:i,event_name:t})}))}}function O(e){if(e){const n=e.id,t=e.eventCategory,o=e.eventName;n&&t&&o&&(0,c.BG)(n,t,o)}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/5392-cb2ad73114b4dd36.mjs.map